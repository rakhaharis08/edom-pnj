<!DOCTYPE html>
<!--
This is a starter template page. Use this page to start your new project from
scratch. This page gets rid of all links and provides the needed markup only.
-->
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>EDOM PNJ v.1.0</title>

  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/admin-lte/3.1.0/css/adminlte.min.css">
</head>
<body class="hold-transition layout-top-nav">
	<div class="wrapper">

		<!-- Navbar -->
		<nav class="main-header navbar navbar-expand-md navbar-light navbar-white">
		  <div class="container">
			<a href="home.html" class="navbar-brand">
			  <img src="../../dist/img/edomlogo.png" alt="AdminLTE Logo" class="brand-image img-circle elevation-3" style="opacity: .8">
			  <span class="brand-text font-weight-light">EDOM PNJ v.1.0</span>
			</a>
	  
			<button class="navbar-toggler order-1" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
			  <span class="navbar-toggler-icon"></span>
			</button>
	  
			<div class="collapse navbar-collapse order-3" id="navbarCollapse">
			  <!-- Left navbar links -->
			  <ul class="navbar-nav active">
				<li class="nav-item">
				  <a href="/dosen" class="nav-link">Home</a>
				</li>
			  </ul>
	  
			  <!-- SEARCH FORM -->
			  <form class="form-inline ml-0 ml-md-3">
				<div class="input-group input-group-sm">
				  <input class="form-control form-control-navbar" type="search" placeholder="Search" aria-label="Search">
				  <div class="input-group-append">
					<button class="btn btn-navbar" type="submit">
					  <i class="fas fa-search"></i>
					</button>
				  </div>
				</div>
			  </form>
			</div>
		  </div>
		</nav>
		<!-- /.navbar -->
	  
		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper">
		  <!-- Content Header (Page header) -->
		  <section class="content-header">
			<div class="container-fluid">
			  <div class="row mb-2">
				<div class="col-sm-6">
				  <h1>Profile</h1>
				</div>
				<div class="col-sm-6">
				  <ol class="breadcrumb float-sm-right">
					<li class="breadcrumb-item"><a href="#">Home</a></li>
					<li class="breadcrumb-item active">User Profile</li>
				  </ol>
				</div>
			  </div>
			</div><!-- /.container-fluid -->
		  </section>
	  
		  <!-- Main content -->
		  <section class="content">
			<div class="container-fluid">
			  <div class="row">
				<div class="col-md-3">
	  
				  <!-- Profile Image -->
				  <div class="card card-primary card-outline">
					<div class="card-body box-profile">
					  <div class="text-center">
						<img class="profile-user-img img-fluid img-circle"
							 src="../../dist/img/profil.jpeg"
							 alt="User profile picture">
					  </div>
	  
					  <h3 class="profile-username text-center"><%= dosen_name %></h3>
	  
					  <p class="text-muted text-center">DOSEN</p>
	  
					  <ul class="list-group list-group-unbordered mb-3">
						<li class="list-group-item">
						  <b>Status</b> <a class="float-right">AKTIF</a>
						</li>
					  </ul>
					</div>
					<!-- /.card-body -->
				  </div>
				  <!-- /.card -->
	  
				  <!-- About Me Box -->
				  <div class="card card-primary">
					<div class="card-header">
					  <h3 class="card-title">Semua semester</h3>
					</div>
					<!-- /.card-header -->
					<div class="card-body">
						<strong><i class="far fa-file-alt mr-1"></i> Lihat nilai pada semester tertentu</strong><br>
						<% for (let i = 0; i < semester_semester.length; i++) { %>
						  <% let semesterType = semester_semester[i].semester_gage == 1 ? 'Ganjil' : 'Genap'; %>
						  <br><a href="<%= url(semester_semester[i].semester_year, semester_semester[i].semester_gage) %>"><%= semester_semester[i].semester_year %> <%= semesterType %></a><br>
						<% } %>
					  </div>
					  
					  
					<!-- /.card-body -->
				  </div>
				  <!-- /.card -->
				</div>
				<!-- /.col -->
				<div class="col-md-9">
				  <div class="card card-primary">
					<div class="card-header">
					  <h3 class="card-title">Hasil Penilaian <%= semester_year %> 
							<% if (semester_gage == 1) { %>
							  Ganjil
							<% } else if (semester_gage == 2) { %>
							  Genap
							<% } %>
						  </h3>
						  
	  
					  <div class="card-tools">
						<button type="button" class="btn btn-tool" data-card-widget="collapse">
						  <i class="fas fa-minus"></i>
						</button>
						<button type="button" class="btn btn-tool" data-card-widget="remove">
						  <i class="fas fa-times"></i>
						</button>
					  </div>
					</div>
					<div class="card-body">
					  <div class="chart">
						<canvas id="barChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
					  </div>
					</div>
					<!-- /.card-body -->
				  </div>
				  <div class="card">
					<div class="card-header">
					  <h3 class="card-title">Breakdown per Pertanyaan</h3>
					</div>
					<!-- /.card-header -->
					<div class="card-body">
					  <table class="table table-bordered">
						<thead>
						  <tr>
							<th style="width: 10px">#</th>
							<th style="width:700px">Pertanyaan</th>
							<th>Penilaian</th>
							<th style="width: 40px">Label</th>
						  </tr>
						</thead>
						<tbody>
						<% for (let i = 0; i < question_question.length; i++) { %>
						  <tr>
							<td><%= i + 1 %>.</td>
							<td><%= question_question[i].question_question %></td>
							<td>
							  <div class="progress progress-xs">
								<div class="progress-bar progress-bar-danger" style="width: <%= (averages[i] / 5) * 100 %>%;"></div>
							  </div>
							</td>
							<td><span class="badge bg-danger"><%= Math.round((averages[i] / 5) * 100) %>%</span></td>
						  </tr>
						<% } %>
						</tbody>
					  </table>
					</div>
					<!-- /.card-body -->
				  </div>
				</div>
				<!-- /.col -->
			  </div>
			  <!-- /.row -->
			</div><!-- /.container-fluid -->
		  </section>
		  <!-- /.content -->
		</div>
		<!-- /.content-wrapper -->
	  
		<!-- Control Sidebar -->
		<aside class="control-sidebar control-sidebar-dark">
		  <!-- Control sidebar content goes here -->
		</aside>
		<!-- /.control-sidebar -->
	  
		<!-- Main Footer -->
		<footer class="main-footer">
		  <!-- To the right -->
		  <div class="float-right d-none d-sm-inline">
			Anything you want
		  </div>
		  <!-- Default to the left -->
		  <strong>Copyright &copy; 2023
		  <a href="https://adminlte.io">Politeknik Negeri Jakarta</a>.</strong> All rights reserved.
		</footer>
	</div>
	<!-- ./wrapper -->

	<!-- REQUIRED SCRIPTS -->
	<!-- jQuery -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<!-- Bootstrap 4 -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.bundle.min.js"></script>
	<!-- ChartJS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.5.1/chart.min.js"></script>
	<!-- AdminLTE App -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/admin-lte/3.1.0/js/adminlte.min.js"></script>
	<!-- AdminLTE for demo purposes -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/admin-lte/3.1.0/js/demo.js"></script>
	<!-- Page specific script -->
	<script>
		$(function () {
		  /* ChartJS
		   * -------
		   * Here we will create a few charts using ChartJS
		   */
		  
		  //-------------
		  //- BAR CHART -
		  //-------------
		  
		var barChartCanvas = $('#barChart').get(0).getContext('2d');
		var barChartData = {
  			labels: [
    			'Pertanyaan', 'Pertanyaan 1', 'Pertanyaan 2', 'Pertanyaan 3', 'Pertanyaan 4', 'Pertanyaan 5',
    			'Pertanyaan 6', 'Pertanyaan 7', 'Pertanyaan 8', 'Pertanyaan 9', 'Pertanyaan 10', 'Pertanyaan 11',
    			'Pertanyaan 12', 'Pertanyaan 13', 'Pertanyaan 14', 'Pertanyaan 15', 'Pertanyaan 16', 'Pertanyaan 17',
    			'Pertanyaan 18', 'Pertanyaan 19', 'Pertanyaan 20', 'Pertanyaan 21', 'Pertanyaan 22', 'Pertanyaan 23',
    			'Pertanyaan 24', 'Pertanyaan 25', 'Pertanyaan 26', 'Pertanyaan 27'
  			],
  			datasets: [{
    		label: 'List Pertanyaan',
    		backgroundColor: 'rgba(60,141,188,0.9)',
    		borderColor: 'rgba(60,141,188,0.8)',
    		pointRadius: false,
    		pointColor: '#3b8bba',
    		pointStrokeColor: 'rgba(60,141,188,1)',
    		pointHighlightFill: '#fff',
    		pointHighlightStroke: 'rgba(60,141,188,1)',
   			data: [
      			<%= averageData.avg_q1 %>, <%= averageData.avg_q2 %>, <%= averageData.avg_q3 %>, <%= averageData.avg_q4 %>,
      			<%= averageData.avg_q5 %>, <%= averageData.avg_q6 %>, <%= averageData.avg_q7 %>, <%= averageData.avg_q8 %>,
      			<%= averageData.avg_q9 %>, <%= averageData.avg_q10 %>, <%= averageData.avg_q11 %>, <%= averageData.avg_q12 %>,
    			<%= averageData.avg_q13 %>, <%= averageData.avg_q14 %>, <%= averageData.avg_q15 %>, <%= averageData.avg_q16 %>,
      			<%= averageData.avg_q17 %>, <%= averageData.avg_q18 %>, <%= averageData.avg_q19 %>, <%= averageData.avg_q20 %>,
      			<%= averageData.avg_q21 %>, <%= averageData.avg_q22 %>, <%= averageData.avg_q23 %>, <%= averageData.avg_q24 %>,
      			<%= averageData.avg_q25 %>, <%= averageData.avg_q26 %>, <%= averageData.avg_q27 %>
    		]
  			}]
};

		  var barChartOptions = {
			responsive              : true,
			maintainAspectRatio     : false,
			datasetFill             : false
		  };
		  
		  new Chart(barChartCanvas, {
			type: 'bar',
			data: barChartData,
			options: barChartOptions
		  });
		});
	</script>
</body>
</html>
